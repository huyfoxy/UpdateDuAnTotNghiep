<!doctype html>
<html class="no-js" lang="zxx" xmlns:th="http://www.thymeleaf.org">
<head th:replace="~{/fragments/head :: head}"></head>
<meta charset="UTF-8" />
<body>

	<div id="tg-wrapper" class="tg-wrapper tg-haslayout">
		<!--************************************
				Header Start
		*************************************-->
		<header th:replace="~{/fragments/header :: header}"></header>
		<!--************************************
				Header End
		*************************************-->
		<!--************************************
				Inner Banner Start
		*************************************-->
		<div class="tg-innerbanner tg-haslayout tg-parallax tg-bginnerbanner" data-z-index="-100" data-appear-top-offset="600" data-parallax="scroll" data-image-src="images/parallax/bgparallax-07.jpg">
			<div class="container">
				<div class="row">
					<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
						<div class="tg-innerbannercontent">
							<h1>Chi Tiết Sản Phẩm</h1>
							<ol class="tg-breadcrumb">
								<li><a href="javascript:void(0);" th:href="@{/}">Trang Chủ</a></li>
								<li><a href="javascript:void(0);" th:href="@{/products}">Tất Cả Sản Phẩm</a></li>
								<li class="tg-active">Chi Tiết Sản Phẩm</li>
							</ol>
						</div>
					</div>
				</div>
			</div>
		</div>
		<!--************************************
				Inner Banner End
		*************************************-->
		<!--************************************
				Main Start
		*************************************-->
		<main id="tg-main" class="tg-main tg-haslayout">
			<!--************************************
					News Grid Start
			*************************************-->
			<div class="tg-sectionspace tg-haslayout">
				<div class="container">
					<div class="row">
						<div id="tg-twocolumns" class="tg-twocolumns">
							<div class="col-xs-12 col-sm-8 col-md-8 col-lg-9 pull-right">
								<div id="tg-content" class="tg-content">
									
									<div class="tg-productdetail">
										<div class="row">
											<div class="col-xs-12 col-sm-12 col-md-4 col-lg-4">
												<div class="tg-postbook">
													<figure class="tg-featureimg">
														<img th:src="@{'/loadImage?imageName='+${book.bookImage}}" alt="image description">
													</figure>
													<div class="tg-postbookcontent">
														<span class="tg-bookprice">
															<ins th:text="${#numbers.formatDecimal(book.price, 1, 'DEFAULT', 0, 'DEFAULT')} + ' VND'"></ins>
															<del th:text="${#numbers.formatDecimal(book.coverPrice, 1, 'DEFAULT', 0, 'DEFAULT')} + ' VND'"></del>
														</span>
														<span class="tg-bookwriter">Tiết kiệm được : [[${book.coverPrice} - ${book.price} + ' VND']]</span>
														<ul class="tg-delevrystock">
															<li><i class="icon-rocket"></i><span>Miễn Phí Giao Hàng</span></li>
															<li><i class="icon-checkmark-circle"></i><span>Giao Hàng Trong 3 Ngày </span></li>
															<li><i class="icon-store"></i><span>Tình Trạng: <em>Còn Hàng</em></span></li>
														</ul>
														<a class="tg-btn tg-active tg-btn-lg"
															th:attr="onclick=|addCart('${book.id}')|">Thêm Giỏ Hàng</a>
														
													</div>
												</div>
											</div>
											<div class="col-xs-12 col-sm-12 col-md-8 col-lg-8">
												<div class="tg-productcontent">
													<ul class="tg-bookscategories">
														<li><a href="javascript:void(0);">[[${book.category.categoryName}]]</a></li>
													</ul>
													<div class="tg-themetagbox"><span class="tg-themetag">Giảm Giá</span></div>
													<div class="tg-booktitle">
														<h3>[[${book.bookName}]]</h3>
													</div>
													<span class="tg-bookwriter">Bởi: <a href="javascript:void(0);" th:href="@{/authorDetail(id=${book.id})}">[[${book.author?.authorName}]]</a></span>
													<span class="tg-stars"><span></span></span>
													<span class="tg-addreviews"><a href="javascript:void(0);">Thêm Đánh Giá</a></span>
													<div class="tg-share">
														<span>Chia sẻ:</span>
														<ul class="tg-socialicons">
															<li class="tg-facebook"><a href="javascript:void(0);"><i class="fa fa-facebook"></i></a></li>
															<li class="tg-twitter"><a href="javascript:void(0);"><i class="fa fa-twitter"></i></a></li>
															<li class="tg-linkedin"><a href="javascript:void(0);"><i class="fa fa-linkedin"></i></a></li>
															<li class="tg-googleplus"><a href="javascript:void(0);"><i class="fa fa-google-plus"></i></a></li>
															<li class="tg-rss"><a href="javascript:void(0);"><i class="fa fa-rss"></i></a></li>
														</ul>
													</div>
													<div class="tg-sectionhead">
														<h2>Chi Tiết Sản Phẩm</h2>
													</div>
													<ul class="tg-productinfo">
														<li><span>Tên sách:</span><span>[[${book.bookName}]]</span></li>
														<li><span>Tác giả:</span><span>[[${book.author?.authorName}]]</span></li>
														<li><span>Số trang:</span><span>[[${book.numberOfPages}]]</span></li>
														<li><span>Nhà xuất bản:</span><span>[[${book.publishingHouse}]]</span></li>
														<li><span>Ngày xuất bản:</span><span>[[${#dates.format(book.publishDate, 'dd-MMM-yyyy')}]]</span></li>
													</ul>
													<div class="tg-alsoavailable">
														<figure>
															<img src="images/img-02.jpg" alt="image description">
														</figure>
													</div>
												</div>
											</div>
											<div class="tg-productdescription">
												<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
													<div class="tg-sectionhead">
														<h2>Mô tả sản phẩm</h2>
													</div>
													<ul class="tg-themetabs" role="tablist">
														<li role="presentation" class="active"><a href="#description" data-toggle="tab">Mô tả</a></li>
													</ul>
													<div class="tg-tab-content tab-content">
														<div role="tabpanel" class="tg-tab-pane tab-pane active" id="description">
															<div class="tg-description"
																th:utext="${book.description}">
															</div>
														</div>
													</div>
												</div>
											</div>
											<div class="tg-aboutauthor">
												<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
													<div class="tg-sectionhead">
														<h2>Giới thiệu tác giả</h2>
													</div>
													<div class="tg-authorbox">
														<figure class="tg-authorimg">
															<th:block th:if="${book.author?.authorImage != null}">
																<img th:src="@{'/loadImage?imageName='+${book.author?.authorImage}}" alt="image description">
															</th:block>
															<th:block th:if="${book.author?.authorImage == null}">
																<img src="images/author/noAvatar.jpg" alt="image description">
															</th:block>
														</figure>
														<div class="tg-authorinfo">
															<div class="tg-authorhead">
																<div class="tg-leftarea">
																	<div class="tg-authorname">
																		<h2>[[${book.author?.authorName}]]</h2>
																	</div>
																</div>
																<div class="tg-rightarea">
																	<ul class="tg-socialicons">
																		<li class="tg-facebook"><a href="javascript:void(0);"><i class="fa fa-facebook"></i></a></li>
																		<li class="tg-twitter"><a href="javascript:void(0);"><i class="fa fa-twitter"></i></a></li>
																		<li class="tg-linkedin"><a href="javascript:void(0);"><i class="fa fa-linkedin"></i></a></li>
																		<li class="tg-googleplus"><a href="javascript:void(0);"><i class="fa fa-google-plus"></i></a></li>
																		<li class="tg-rss"><a href="javascript:void(0);"><i class="fa fa-rss"></i></a></li>
																	</ul>
																</div>
															</div>
															<div class="tg-description"
																th:utext="${book.author?.authorInfo}">
															</div>
															<a class="tg-btn tg-active" href="javascript:void(0);">Xem tất cả sách</a>
														</div>
													</div>
												</div>
											</div>
											<div class="tg-relatedproducts">
												<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
													<div class="tg-sectionhead">
														<h2><span>Sản phẩm liên quan</span>Bạn cảm thấy thích</h2>
														<a class="tg-btn" href="javascript:void(0);">Xem tất cả</a>
													</div>
												</div>
												<div class="col-xs-12 col-sm-12 col-md-12 col-lg-12">
													<div id="tg-relatedproductslider" class="tg-relatedproductslider tg-relatedbooks owl-carousel">
														<div class="item" th:each="item : ${bookByCategory}">
															<div class="tg-postbook">
																<figure class="tg-featureimg">
																	<div class="tg-bookimg">
																		<div class="tg-frontcover"><img th:src="@{'/loadImage?imageName='+${item.bookImage}}" alt="image description"></div>
																		<div class="tg-backcover"><img th:src="@{'/loadImage?imageName='+${item.bookImage}}" alt="image description"></div>
																	</div>
																	<a class="tg-btnaddtowishlist" href="/login"
															th:if="${customer.email == null}"> <i
															class="icon-heart"></i> <span>Đăng Nhập</span>
														</a>

														<div th:if="${customer.email != null}">
															<a th:class="tg-btnaddtowishlist + ' ' + ${item.id} "
																th:attr="onclick=|doFavorite('${item.id}')|"
																th:if="${item.favorite} == false"> <i
																class="icon-heart"></i> <span>Thêm yêu thích</span>
															</a> <a
																th:class="tg-btnaddtowishlist +  ' ' + ${item.id}  + ' hiden-flagFavorite' + ' st-hiden'  + ' flagFavorite' "
																th:attr="onclick=|doFavorite('${item.id}')|"
																style="background: #77b748"> <i class="icon-heart"></i>
																<span>Đã yêu thích</span>
															</a> <a
																th:class="tg-btnaddtowishlist +  ' ' + ${item.id} + ' do-flagFavorite' + ' st-hiden' "
																th:attr="onclick=|doFavorite('${item.id}')|"> <i
																class="icon-heart"></i> <span>Thêm yêu thích</span>
															</a> <a
																th:class="tg-btnaddtowishlist  + ' ' + ${item.id} + ' hiden-flagFavorite' + ' flagFavorite' + ' bookmark'"
																th:attr="onclick=|doFavorite('${item.id}')|"
																style="background: #77b748"
																th:if="${item.favorite} == true"> <i
																class="icon-heart"></i> <span>Đã yêu thích</span>
															</a>
														</div>
																</figure>
																<div class="tg-postbookcontent">
																	<ul class="tg-bookscategories">
																		<li><a href="javascript:void(0);">[[${item.category.categoryName}]]</a></li>
																	</ul>
																	<div class="tg-themetagbox"><span class="tg-themetag">Giáº£m giÃ¡</span></div>
																	<div class="tg-booktitle">
																		<h3><a href="javascript:void(0);" th:href="@{/productDetail(id=${item.id})}">[[${item.bookName}]]</a></h3>
																	</div>
																	<span class="tg-bookwriter">By: <a href="javascript:void(0);" th:href="@{/authorDetail(id=${item.id})}">[[${item.author?.authorName}]]</a></span>
																	<span class="tg-stars"><span></span></span>
																	<span class="tg-bookprice">
																		<ins th:text="${#numbers.formatDecimal(item.price, 1, 'DEFAULT', 0, 'DEFAULT')} + ' VND'"></ins>
																		<del th:text="${#numbers.formatDecimal(item.coverPrice, 1, 'DEFAULT', 0, 'DEFAULT')} + ' VND'"></del>
																	</span>
																	<a class="tg-btn tg-btnstyletwo" href="javascript:void(0);">
																		<i class="fa fa-shopping-basket"></i>
																		<em>Thêm giỏ hàng</em>
																	</a>
																</div>
															</div>
														</div>
													</div>
												</div>
											</div>
										</div>
									</div>
								</div>
							</div>
							<div class="col-xs-12 col-sm-4 col-md-4 col-lg-3 pull-left">
								<aside id="tg-sidebar" class="tg-sidebar">
									<div class="tg-widget tg-widgetsearch">
										<form class="tg-formtheme tg-formsearch">
											<div class="form-group">
												<button type="submit"><i class="icon-magnifier"></i></button>
												<input type="search" name="search" class="form-group" placeholder="Tìm Kiếm...">
											</div>
										</form>
									</div>
										<!-- basePage -->
									<th:block th:replace="~{/fragments/basePage :: basePage}"></th:block>
									
								</aside>
							</div>
						</div>
					</div>
				</div>
			</div>
			<!--************************************
					News Grid End
			*************************************-->
		</main>
		<!--************************************
				Main End
		*************************************-->
		<!--************************************
				Footer Start
		*************************************-->
		<footer id="tg-footer" class="tg-footer tg-haslayout" th:replace="~{/fragments/footer :: footer}"></footer>
		<!--************************************
				Footer End
		*************************************-->
	</div>
	<!--************************************
			Wrapper End
	*************************************-->
	<script src="js/vendor/jquery-library.js"></script>
	<script src="js/vendor/bootstrap.min.js"></script>
	<script src="https://maps.google.com/maps/api/js?key=AIzaSyCR-KEWAVCn52mSdeVeTqZjtqbmVJyfSus&amp;language=en"></script>
	<script src="js/owl.carousel.min.js"></script>
	<script src="js/jquery.vide.min.js"></script>
	<script src="js/countdown.js"></script>
	<script src="js/jquery-ui.js"></script>
	<script src="js/parallax.js"></script>
	<script src="js/countTo.js"></script>
	<script src="js/appear.js"></script>
	<script src="js/gmap3.js"></script>
	<script src="js/main.js"></script>
	<script src="js/common.js"></script>
</body>

</html>